<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin — Barbearia Luxo</title>
  <link rel="stylesheet" href="./static/css/styles.css">
  <link rel="manifest" href="./manifest.json" />
</head>
<body>
  <nav class="nav">
    <div class="brand">Painel — Barbearia Luxo</div>
    <div class="nav-links">
      <a href="./index.html">Home</a>
      <a href="./agendar.html">Agendar</a>
    </div>
  </nav>

  <main class="container">
    <div id="loginBox" class="card admin-login">
      <h2>Entrar no Painel</h2>
      <input id="adminUser" placeholder="Usuário" value="admin" />
      <input id="adminPass" placeholder="Senha" type="password" />
      <div class="row">
        <button id="btnLogin" class="btn">Entrar</button>
        <button id="btnLockoutReset" class="btn-ghost">Reset tentativas</button>
      </div>
      <div id="loginMsg" class="muted"></div>
    </div>

    <div id="adminPanel" class="hidden">
      <div class="grid-3">
        <div class="card">
          <h3>Barbeiros</h3>
          <ul id="barberList"></ul>
          <input id="newBarberName" placeholder="Nome do barbeiro" />
          <input id="newBarberPhone" placeholder="WhatsApp (ex:5511999999999)" />
          <button id="btnAddBarber" class="btn small">Adicionar Barbeiro</button>
        </div>

        <div class="card">
          <h3>Serviços</h3>
          <ul id="serviceList"></ul>
          <input id="newServiceName" placeholder="Nome do serviço" />
          <input id="newServiceDuration" placeholder="Duração (min)" type="number" />
          <button id="btnAddService" class="btn small">Adicionar Serviço</button>
        </div>

        <div class="card">
          <h3>Horários</h3>
          <select id="slotBarberSelect"></select>
          <input id="slotDate" type="date" />
          <input id="slotTime" type="time" />
          <button id="btnAddSlot" class="btn small">Adicionar Horário</button>
          <button id="btnGenerateDay" class="btn-ghost small">Gerar dia (09:00-18:00)</button>
          <ul id="slotList"></ul>
        </div>
      </div>

      <div class="card">
        <h3>Agendamentos <span id="badgeBookings" class="badge">0</span></h3>
        <ul id="allBookings"></ul>
        <div class="row">
          <button id="btnExport" class="btn-ghost">Exportar JSON</button>
          <button id="btnClearAll" class="btn-ghost">Limpar Tudo</button>
        </div>
      </div>
    </div>
  </main>

  <div id="floatingNotif" class="notification" style="display:none"></div>
  <audio id="adminSound" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" preload="auto"></audio>

  <script src="./static/js/firebase-init.js"></script>
  <script src="./static/js/sw-register.js"></script>
  <script src="./static/js/admin.js" defer></script>
</body>
</html>
